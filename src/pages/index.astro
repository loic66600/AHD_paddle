---
import Layout from '../layouts/Layout.astro';

const categories = [
  {
    title: 'Windsurf',
    description: 'Freeride, wave, race : explorez la collection la plus performante de la côte Atlantique.',
    image: '/images/category-windsurf.webp'
  },
  {
    title: 'Wingfoil',
    description: 'Foils carbone, ailes haute performance et boards compactes pour maîtriser chaque rafale.',
    image: '/images/category-wingfoil.jpg'
  },
  {
    title: 'Accessoires',
    description: 'Pads, housses, voiles signature et lignes carbone pour compléter votre setup AHD.',
    image: '/images/category-accessoires.jpg'
  }
];

const lineup = [
  {
    name: 'Fury',
    description: 'Planche de freeride ultime, nerveuse et confortable sur tous les plans d’eau.',
    price: '549 €',
    image: '/images/boards/ahd-fury.png',
    discipline: 'Freeride signature'
  },
  {
    name: 'SL-S',
    description: 'La référence slalom : accélération immédiate et contrôle dans le chantier.',
    price: '549 €',
    image: '/images/boards/AHD_SLS.png',
    discipline: 'Slalom pur'
  },
  {
    name: 'Compact Foil',
    description: 'Shape compact et portance précoce pour voler en vent médium dès 12 nœuds.',
    price: '549 €',
    image: '/images/boards/ahd-compact-foil.png',
    discipline: 'Foil performance'
  },
  {
    name: 'Zen',
    description: 'Glisse fluide et stabilité active : l’arme parfaite pour progresser en freeride.',
    price: '549 €',
    image: '/images/boards/ahd-zen.png',
    discipline: 'Progression'
  }
];

const experiences = [
  {
    title: 'Programmes Signature',
    copy: 'Des clinics en Méditerranée au downwind nordique : choisissez votre terrain de jeu, nous fournissons les AHD, coachs et assistance.',
    image: '/images/ahd-experience.webp'
  },
  {
    title: 'Atelier Sur Mesure',
    copy: 'Accédez aux designers AHD pour personnaliser vos pads, vos rails ou votre finition carbone, directement depuis notre atelier vendéen.',
    image: '/images/category-accessoires.jpg'
  },
  {
    title: 'Services Skipper',
    copy: 'Transport, préparation course, entretien foil : une équipe dédiée accompagne votre saison sur tous les spots européens.',
    image: '/images/category-wingfoil.jpg'
  }
];

const insights = [
  {
    eyebrow: 'Technologie',
    title: 'Carbone Mantis T700',
    body: 'Assemblage en autoclave issu de la course au large, rigidité accrue de 18 % pour des relances explosives.'
  },
  {
    eyebrow: 'Hydrodynamique',
    title: 'Carène Vector Flow',
    body: 'Entrées d’eau chanfreinées et triple concave optimisés CFD pour garder le cap même en clapot croisé.'
  },
  {
    eyebrow: 'Connectivité',
    title: 'AHD Sense',
    body: 'Capteurs intégrés, application compagnon et coaching vocal en direct pour piloter vos progrès.'
  }
];
---

<Layout title="AHD Paddle | Lignes inspirées du yachting de performance">
  <main class="relative overflow-x-hidden">
    <section class="relative h-[95vh] min-h-[640px]" data-bg="#010104">
      <video
        class="absolute inset-0 h-full w-full object-cover"
        src="/media/ahd-hero.mp4"
        autoplay
        loop
        muted
        playsinline
      ></video>
      <div class="absolute inset-0 bg-gradient-to-r from-midnight/50 via-manta/40 to-lagoon/35"></div>
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,#1c4b67_0%,transparent_55%)] opacity-50"></div>

      <header class="relative z-20 flex items-center justify-between px-6 py-6 md:px-12">
        <button
          id="ahd-menu-button"
          class="text-sm uppercase tracking-[0.35em] text-foam/80 hover:text-foam focus:outline-none"
          aria-controls="ahd-drawer"
          aria-expanded="false"
        >
          Menu
        </button>
        <div class="flex flex-col items-center gap-3">
          <img src="/images/logo_blanc.png" alt="AHD" class="h-10 w-auto" loading="lazy" />
          <p class="text-xs uppercase tracking-[0.5em] text-white">AHD Paddle Division</p>
        </div>
        <div class="w-16"></div>
      </header>

      <div id="ahd-drawer" class="fixed inset-y-0 left-0 z-30 w-72 max-w-xs -translate-x-full transform bg-midnight/95 px-8 py-12 transition-transform duration-500 will-change-transform">
        <nav class="flex flex-col gap-8 text-sm uppercase tracking-[0.35em] text-foam/80">
          <a href="#univers">Univers AHD</a>
          <a href="#gamme">Collection</a>
          <a href="#histoire">Histoire</a>
          <a href="#decouvrir">Découvrir</a>
        </nav>
      </div>

      <div class="relative z-10 flex h-full flex-col justify-center container">
        <h1 class="section-title text-4xl md:text-6xl xl:text-7xl max-w-3xl leading-tight text-white">
          L’esprit AHD transposé sur l’eau.
        </h1>
        <div class="mt-10 flex flex-col sm:flex-row gap-4">
          <p-button variant="secondary" size="large" class="outline-flip hero-cta">
            Découvrir la gamme 2026
          </p-button>
        </div>
      </div>
    </section>

    <section id="univers" class="py-16" data-bg="#ffffff">
      <div class="container space-y-8 text-midnight">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
          <div>
            <span class="section-eyebrow text-gold">Univers AHD</span>
            <h2 class="section-title mt-4">Choisissez votre discipline.</h2>
          </div>
          <p class="max-w-xl text-midnight/70 text-base md:text-lg">
            Des planches iconiques, des foils dernière génération et tous les accessoires qui font la différence sur l’eau.
          </p>
        </div>

        <div class="relative">
          <div class="flex items-stretch justify-center gap-8 overflow-visible pb-6">
            {categories.map((category) => (
              <a
                href="#"
                class="group relative min-w-[290px] sm:min-w-[360px] lg:min-w-[380px] max-w-[420px] snap-start overflow-hidden rounded-[2.25rem] aspect-[4/5] bg-midnight/80 shadow-[0_24px_60px_rgba(15,23,42,0.25)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-gold"
              >
                <img
                  src={category.image}
                  alt={category.title}
                  loading="lazy"
                  class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
                />
                <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-black/35 to-black/80 opacity-95 transition-opacity duration-300 group-hover:opacity-100"></div>
                <div class="absolute inset-0 flex items-end justify-between p-7 text-white">
                  <h3 class="text-2xl sm:text-3xl font-semibold tracking-tight">{category.title}</h3>
                  <span aria-hidden="true" class="text-2xl sm:text-3xl text-white/90 transition-transform duration-300 group-hover:translate-x-1">&rarr;</span>
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>
    </section>

    <section id="gamme" class="py-24 md:py-32 bg-gradient-to-b from-midnight to-manta/80" data-bg="#020714">
      <div class="container flex flex-col gap-12">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-8">
          <div>
            <span class="section-eyebrow">Collection 2026</span>
            <h2 class="section-title mt-4">Boards iconiques AHD</h2>
          </div>
          <p class="max-w-xl text-foam/70 text-base md:text-lg">
            Retrouvez les planches qui ont façonné notre histoire à travers des vitrines immersives grand format, pensées pour ressentir l’ADN de chaque shape.
          </p>
        </div>

        <div class="grid gap-8 md:grid-cols-2">
          {lineup.map((model) => (
            <a
              href="#"
              class="group relative isolate aspect-[4/5] min-h-[420px] overflow-hidden rounded-[2.5rem] bg-midnight shadow-glow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-gold"
            >
              <div class="absolute inset-0">
                <div class="absolute inset-0 flex items-center justify-center p-10 sm:p-12">
                  <img
                    src={model.image}
                    alt={model.name}
                    loading="lazy"
                    class="h-full max-h-[72%] w-auto object-contain drop-shadow-[0_45px_90px_rgba(0,0,0,0.55)] transition-transform duration-500 group-hover:scale-105"
                  />
                </div>
                <div class="absolute inset-0 bg-gradient-to-b from-midnight/10 via-midnight/40 to-midnight/90 opacity-90 transition-opacity duration-300 group-hover:opacity-100"></div>
              </div>
              <div class="absolute inset-0 flex flex-col justify-between p-7 sm:p-8 text-white">
                <div class="flex items-start justify-center">
                  <h3 class="text-3xl sm:text-4xl font-semibold tracking-[0.3em] uppercase text-center">
                    {model.name}
                  </h3>
                </div>
                <div class="flex items-end justify-between gap-6">
                  <div class="space-y-3 text-left text-white/85">
                    <p class="text-sm leading-relaxed">
                      {model.description}
                    </p>
                    <span class="text-sm font-semibold text-white">{model.price}</span>
                  </div>
                  <span aria-hidden="true" class="text-3xl text-white/90 transition-transform duration-300 group-hover:translate-x-1">
                    &rarr;
                  </span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>

    <section
      id="innovation"
      class="relative h-[80vh] min-h-[520px] overflow-hidden"
      aria-label="Laboratoire hydrodynamique AHD"
      data-bg="#0101046e"
    >
      <video
        class="absolute inset-0 h-full w-full object-cover"
        src="/media/ahd-innovation.mp4"
        autoplay
        loop
        muted
        playsinline
      ></video>
      <div class="absolute inset-0 bg-gradient-to-r from-midnight/60 via-midnight/40 to-midnight/60"></div>
    </section>

    <div class="section-fade fade-dark-to-light"></div>

    <section id="histoire" class="py-24 md:py-32 bg-white text-midnight" data-bg="#ffffff">
      <div class="container grid gap-12 lg:grid-cols-[1.1fr_1fr] items-center">
        <div class="space-y-6">
          <span class="section-eyebrow text-midnight/60">Histoire</span>
          <h2 class="text-3xl md:text-4xl font-semibold">AHD, pionnier de la glisse depuis 1990.</h2>
          <p class="text-base md:text-lg leading-relaxed text-midnight/80">
            AHD naît de la vision de Christophe Piaget, désireux d’apporter les technologies aéronautiques au windsurf. Depuis la Suisse jusqu’à la Bretagne, la marque impose une exigence de précision et d’innovation continue.
          </p>
          <p class="text-base md:text-lg leading-relaxed text-midnight/80">
            Aujourd’hui encore, nos ateliers fabriquent à la main des planches pensées pour les riders passionnés de vitesse, de foil et d’exploration, accompagnés par Foil&co.
          </p>
          <p-button variant="secondary" class="outline-flip">
            À propos
          </p-button>
        </div>
        <div class="overflow-hidden rounded-[2.5rem] shadow-glow">
          <img src="/images/ahd-history.png" alt="Historique AHD" class="h-full w-full object-cover" loading="lazy" />
        </div>
      </div>
    </section>

    <div class="section-fade fade-light-to-dark"></div>

    <section id="decouvrir" class="py-24 md:py-32 bg-gradient-to-b from-manta/70 to-midnight" data-bg="#02101f">
      <div class="container space-y-10">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-8">
          <div>
            <span class="section-eyebrow">Découvrir</span>
            <h2 class="section-title mt-4">Vivez l’expérience AHD</h2>
          </div>
          <p class="max-w-xl text-foam/70 text-base md:text-lg">
            Sélectionnez un programme, un atelier ou un service skipper et laissez-nous orchestrer votre prochaine session haute performance.
          </p>
        </div>

        <div class="grid gap-6 md:gap-8 md:grid-cols-3">
          {experiences.map((experience) => (
            <article class="group relative overflow-hidden rounded-[2.5rem] aspect-[4/5]">
              <img
                src={experience.image}
                alt={experience.title}
                loading="lazy"
                class="absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
              />
              <div class="absolute inset-0 bg-gradient-to-t from-black/75 via-black/30 to-transparent"></div>
              <div class="absolute inset-x-0 bottom-0 p-7 sm:p-8">
                <div class="space-y-2 text-white">
                  <h3 class="text-2xl font-semibold">{experience.title}</h3>
                  <p class="text-sm text-white/80 leading-relaxed">
                    {experience.copy}
                  </p>
                </div>
                <div class="mt-6 flex items-center justify-between text-white/80">
                  <span class="text-xs uppercase tracking-[0.4em]">Découvrir</span>
                  <span aria-hidden="true" class="text-2xl">&rarr;</span>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>
  </main>

  <footer class="ahd-footer">
    <div class="container">
      <div class="ahd-footer__grid">
        <div class="ahd-footer__brand">
          <img src="/images/logo_blanc.png" alt="AHD" class="ahd-footer__logo" loading="lazy" />
          <p>
            Lorem ipsum dolor sit amet consectetur. Dignissim felis arcu egestas fermentum magna.
          </p>
          <ul class="ahd-footer__contact">
            <li>1734 Stonecoal Road</li>
            <li>+021-95-51-84</li>
            <li>email@email.com</li>
          </ul>
        </div>
        <div>
          <h3>Catégories</h3>
          <ul>
            <li>Windsurf</li>
            <li>Wingfoil</li>
            <li>Foil</li>
            <li>Accessoires</li>
          </ul>
        </div>
        <div>
          <h3>Informations</h3>
          <ul>
            <li>À propos</li>
            <li>Nous contacter</li>
            <li>Conditions</li>
            <li>Politique de confidentialité</li>
          </ul>
        </div>
        <div>
          <h3>Services</h3>
          <ul>
            <li>Mon compte</li>
            <li>Liste de souhaits</li>
            <li>Suivi commande</li>
            <li>Aide</li>
          </ul>
        </div>
        <div class="ahd-footer__newsletter">
          <h3>Inscrivez-vous à la newsletter</h3>
          <form class="ahd-footer__form">
            <input type="email" placeholder="Votre email" aria-label="Email newsletter" required />
            <button type="submit">S’inscrire</button>
          </form>
          <div class="ahd-footer__social">
            <span>Suivez-nous</span>
            <div class="ahd-footer__icons">
              <a href="#" aria-label="Facebook">Fb</a>
              <a href="#" aria-label="Twitter">Tw</a>
              <a href="#" aria-label="Instagram">Ig</a>
              <a href="#" aria-label="Pinterest">Pt</a>
            </div>
          </div>
        </div>
      </div>
      <div class="ahd-footer__bottom">
        <div class="ahd-footer__payments">Visa · PayPal · MasterCard · Amex</div>
            <p>Copyright © 2026 AHD Paddle — Créé par loïc .</p>
      </div>
    </div>
  </footer>
</Layout>

<script type="module">
  const drawer = document.getElementById('ahd-drawer');
  const toggle = document.getElementById('ahd-menu-button');

  if (drawer && toggle) {
    const closeDrawer = (event) => {
      if (!drawer.classList.contains('translate-x-0')) {
        return;
      }
      if (event.type === 'keydown' && event.key !== 'Escape') {
        return;
      }
      drawer.classList.remove('translate-x-0');
      drawer.classList.add('-translate-x-full');
      toggle.setAttribute('aria-expanded', 'false');
      window.removeEventListener('keydown', closeDrawer);
      window.removeEventListener('click', handleOutsideClick, true);
    };

    const handleOutsideClick = (event) => {
      if (!drawer.contains(event.target) && event.target !== toggle) {
        closeDrawer(event);
      }
    };

    toggle.addEventListener('click', () => {
      const isOpen = drawer.classList.toggle('translate-x-0');
      drawer.classList.toggle('-translate-x-full', !isOpen);
      toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      if (isOpen) {
        window.addEventListener('keydown', closeDrawer);
        window.addEventListener('click', handleOutsideClick, true);
      } else {
        window.removeEventListener('keydown', closeDrawer);
        window.removeEventListener('click', handleOutsideClick, true);
      }
    });
  }

  const themedSections = document.querySelectorAll('[data-bg]');
  if (themedSections.length) {
    const setBackground = (section) => {
      const color = section.getAttribute('data-bg');
      if (color) {
        document.body.style.setProperty('--page-bg', color);
      }
    };

    setBackground(themedSections[0]);

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            setBackground(entry.target);
          }
        });
      },
      { threshold: 0.5 }
    );

    themedSections.forEach((section) => observer.observe(section));
  }
</script>
